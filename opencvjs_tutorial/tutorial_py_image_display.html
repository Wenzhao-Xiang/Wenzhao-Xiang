<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpenCV: Getting Started with Images</title>
<link href="opencv.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tutorial-utils.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
//<![CDATA[
MathJax.Hub.Config(
{
  TeX: {
      Macros: {
          matTT: [ "\\[ \\left|\\begin{array}{ccc} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{array}\\right| \\]", 9],
          fork: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ \\end{array} \\right.", 4],
          forkthree: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ \\end{array} \\right.", 6],
          forkfour: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ #7 & \\mbox{#8}\\\\ \\end{array} \\right.", 8],
          vecthree: ["\\begin{bmatrix} #1\\\\ #2\\\\ #3 \\end{bmatrix}", 3],
          vecthreethree: ["\\begin{bmatrix} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{bmatrix}", 9],
          hdotsfor: ["\\dots", 1],
          mathbbm: ["\\mathbb{#1}", 1],
          bordermatrix: ["\\matrix{#1}", 1]
      }
  }
}
);
//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<!--#include virtual="/google-search.html"-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="opencv-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenCV
   &#160;<span id="projectnumber">4.1.1-dev</span>
   </div>
   <div id="projectbrief">Open Source Computer Vision</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="tutorial_py_root.html">OpenCV-Python Tutorials</a></li><li class="navelem"><a class="el" href="tutorial_py_table_of_contents_gui.html">Gui Features in OpenCV</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Getting Started with Images </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Goals </h2>
<ul>
<li>Here, you will learn how to read an image, how to display it and how to save it back</li>
<li>You will learn these functions : <b><a class="el" href="d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56" title="Loads an image from a file. ">cv.imread()</a></b>, <b><a class="el" href="d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563" title="Displays an image in the specified window. ">cv.imshow()</a></b> , <b><a class="el" href="d4/da8/group__imgcodecs.html#gabbc7ef1aa2edfaa87772f1202d67e0ce" title="Saves an image to a specified file. ">cv.imwrite()</a></b></li>
<li>Optionally, you will learn how to display images with Matplotlib</li>
</ul>
<h2>Using OpenCV </h2>
<h3>Read an image</h3>
<p>Use the function <b><a class="el" href="d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56" title="Loads an image from a file. ">cv.imread()</a></b> to read an image. The image should be in the working directory or a full path of image should be given.</p>
<p>Second argument is a flag which specifies the way image should be read.</p>
<ul>
<li><a class="el" href="d4/da8/group__imgcodecs.html#gga61d9b0126a3e57d9277ac48327799c80af660544735200cbe942eea09232eb822" title="If set, always convert image to the 3 channel BGR color image. ">cv.IMREAD_COLOR</a> : Loads a color image. Any transparency of image will be neglected. It is the default flag.</li>
<li><a class="el" href="d4/da8/group__imgcodecs.html#gga61d9b0126a3e57d9277ac48327799c80ae29981cfc153d3b0cef5c0daeedd2125" title="If set, always convert image to the single channel grayscale image (codec internal conversion)...">cv.IMREAD_GRAYSCALE</a> : Loads image in grayscale mode</li>
<li><a class="el" href="d4/da8/group__imgcodecs.html#gga61d9b0126a3e57d9277ac48327799c80aeddd67043ed0df14f9d9a4e66d2b0708" title="If set, return the loaded image as is (with alpha channel, otherwise it gets cropped). ">cv.IMREAD_UNCHANGED</a> : Loads image as such including alpha channel</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Instead of these three flags, you can simply pass integers 1, 0 or -1 respectively.</dd></dl>
<p>See the code below: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"># Load an color image in grayscale</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;img = <a class="code" href="d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56">cv.imread</a>(<span class="stringliteral">&#39;messi5.jpg&#39;</span>,0)</div></div><!-- fragment --><p><b>warning</b></p>
<p>Even if the image path is wrong, it won't throw any error, but <code>print img</code> will give you <code>None</code></p>
<h3>Display an image</h3>
<p>Use the function <b><a class="el" href="d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563" title="Displays an image in the specified window. ">cv.imshow()</a></b> to display an image in a window. The window automatically fits to the image size.</p>
<p>First argument is a window name which is a string. second argument is our image. You can create as many windows as you wish, but with different window names. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<a class="code" href="df/d24/group__highgui__opengl.html#gaae7e90aa3415c68dba22a5ff2cefc25d">cv.imshow</a>(<span class="stringliteral">&#39;image&#39;</span>,img)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<a class="code" href="d7/dfc/group__highgui.html#ga5628525ad33f52eab17feebcfba38bd7">cv.waitKey</a>(0)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<a class="code" href="d7/dfc/group__highgui.html#ga6b7fc1c1a8960438156912027b38f481">cv.destroyAllWindows</a>()</div></div><!-- fragment --><p> A screenshot of the window will look like this (in Fedora-Gnome machine):</p>
<div class="image">
<img src="opencv_screenshot.jpg" alt="opencv_screenshot.jpg"/>
<div class="caption">
image</div></div>
<p> <b><a class="el" href="d7/dfc/group__highgui.html#ga5628525ad33f52eab17feebcfba38bd7" title="Waits for a pressed key. ">cv.waitKey()</a></b> is a keyboard binding function. Its argument is the time in milliseconds. The function waits for specified milliseconds for any keyboard event. If you press any key in that time, the program continues. If <b>0</b> is passed, it waits indefinitely for a key stroke. It can also be set to detect specific key strokes like, if key a is pressed etc which we will discuss below.</p>
<dl class="section note"><dt>Note</dt><dd>Besides binding keyboard events this function also processes many other GUI events, so you MUST use it to actually display the image.</dd></dl>
<p><b><a class="el" href="d7/dfc/group__highgui.html#ga6b7fc1c1a8960438156912027b38f481" title="Destroys all of the HighGUI windows. ">cv.destroyAllWindows()</a></b> simply destroys all the windows we created. If you want to destroy any specific window, use the function <b><a class="el" href="d7/dfc/group__highgui.html#ga851ccdd6961022d1d5b4c4f255dbab34" title="Destroys the specified window. ">cv.destroyWindow()</a></b> where you pass the exact window name as the argument.</p>
<dl class="section note"><dt>Note</dt><dd>There is a special case where you can already create a window and load image to it later. In that case, you can specify whether window is resizable or not. It is done with the function <b><a class="el" href="d7/dfc/group__highgui.html#ga5afdf8410934fd099df85c75b2e0888b" title="Creates a window. ">cv.namedWindow()</a></b>. By default, the flag is <a class="el" href="d7/dfc/group__highgui.html#ggabf7d2c5625bc59ac130287f925557ac3acf621ace7a54954cbac01df27e47228f" title="the user cannot resize the window, the size is constrainted by the image displayed. ">cv.WINDOW_AUTOSIZE</a>. But if you specify flag to be <a class="el" href="d7/dfc/group__highgui.html#ggabf7d2c5625bc59ac130287f925557ac3a29e45c5af696f73ce5e153601e5ca0f1" title="the user can resize the window (no constraint) / also use to switch a fullscreen window to a normal s...">cv.WINDOW_NORMAL</a>, you can resize window. It will be helpful when image is too large in dimension and adding track bar to windows.</dd></dl>
<p>See the code below: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<a class="code" href="d7/dfc/group__highgui.html#ga5afdf8410934fd099df85c75b2e0888b">cv.namedWindow</a>(<span class="stringliteral">&#39;image&#39;</span>, cv.WINDOW_NORMAL)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<a class="code" href="df/d24/group__highgui__opengl.html#gaae7e90aa3415c68dba22a5ff2cefc25d">cv.imshow</a>(<span class="stringliteral">&#39;image&#39;</span>,img)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<a class="code" href="d7/dfc/group__highgui.html#ga5628525ad33f52eab17feebcfba38bd7">cv.waitKey</a>(0)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<a class="code" href="d7/dfc/group__highgui.html#ga6b7fc1c1a8960438156912027b38f481">cv.destroyAllWindows</a>()</div></div><!-- fragment --> <h3>Write an image</h3>
<p>Use the function <b><a class="el" href="d4/da8/group__imgcodecs.html#gabbc7ef1aa2edfaa87772f1202d67e0ce" title="Saves an image to a specified file. ">cv.imwrite()</a></b> to save an image.</p>
<p>First argument is the file name, second argument is the image you want to save. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<a class="code" href="d4/da8/group__imgcodecs.html#gabbc7ef1aa2edfaa87772f1202d67e0ce">cv.imwrite</a>(<span class="stringliteral">&#39;messigray.png&#39;</span>,img)</div></div><!-- fragment --><p> This will save the image in PNG format in the working directory.</p>
<h3>Sum it up</h3>
<p>Below program loads an image in grayscale, displays it, save the image if you press 's' and exit, or simply exit without saving if you press ESC key. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;img = <a class="code" href="d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56">cv.imread</a>(<span class="stringliteral">&#39;messi5.jpg&#39;</span>,0)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<a class="code" href="df/d24/group__highgui__opengl.html#gaae7e90aa3415c68dba22a5ff2cefc25d">cv.imshow</a>(<span class="stringliteral">&#39;image&#39;</span>,img)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;k = <a class="code" href="d7/dfc/group__highgui.html#ga5628525ad33f52eab17feebcfba38bd7">cv.waitKey</a>(0)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keywordflow">if</span> k == 27:         <span class="comment"># wait for ESC key to exit</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <a class="code" href="d7/dfc/group__highgui.html#ga6b7fc1c1a8960438156912027b38f481">cv.destroyAllWindows</a>()</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keywordflow">elif</span> k == ord(<span class="stringliteral">&#39;s&#39;</span>): <span class="comment"># wait for &#39;s&#39; key to save and exit</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <a class="code" href="d4/da8/group__imgcodecs.html#gabbc7ef1aa2edfaa87772f1202d67e0ce">cv.imwrite</a>(<span class="stringliteral">&#39;messigray.png&#39;</span>,img)</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <a class="code" href="d7/dfc/group__highgui.html#ga6b7fc1c1a8960438156912027b38f481">cv.destroyAllWindows</a>()</div></div><!-- fragment --><p><b>warning</b></p>
<p>If you are using a 64-bit machine, you will have to modify <code>k = cv.waitKey(0)</code> line as follows : <code>k = cv.waitKey(0) &amp; 0xFF</code></p>
<h2>Using Matplotlib </h2>
<p>Matplotlib is a plotting library for Python which gives you wide variety of plotting methods. You will see them in coming articles. Here, you will learn how to display image with Matplotlib. You can zoom images, save it etc using Matplotlib. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;img = <a class="code" href="d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56">cv.imread</a>(<span class="stringliteral">&#39;messi5.jpg&#39;</span>,0)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;plt.imshow(img, cmap = <span class="stringliteral">&#39;gray&#39;</span>, interpolation = <span class="stringliteral">&#39;bicubic&#39;</span>)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;plt.xticks([]), plt.yticks([])  <span class="comment"># to hide tick values on X and Y axis</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;plt.show()</div></div><!-- fragment --><p> A screen-shot of the window will look like this :</p>
<div class="image">
<img src="matplotlib_screenshot.jpg" alt="matplotlib_screenshot.jpg"/>
<div class="caption">
image</div></div>
 <dl class="section see"><dt>See also</dt><dd>Plenty of plotting options are available in Matplotlib. Please refer to Matplotlib docs for more details. Some, we will see on the way.</dd></dl>
<p><b>warning</b></p>
<p>Color image loaded by OpenCV is in BGR mode. But Matplotlib displays in RGB mode. So color images will not be displayed correctly in Matplotlib if image is read with OpenCV. Please see the exercises for more details.</p>
<h2>Additional Resources </h2>
<ol type="1">
<li><a href="http://matplotlib.org/api/pyplot_api.html">Matplotlib Plotting Styles and Features</a></li>
</ol>
<h2>Exercises </h2>
<ol type="1">
<li>There is some problem when you try to load color image in OpenCV and display it in Matplotlib. Read <a href="http://stackoverflow.com/a/15074748/1134940">this discussion</a> and understand it. </li>
</ol>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 22 2019 16:32:40 for OpenCV by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
<script type="text/javascript">
//<![CDATA[
addTutorialsButtons();
//]]>
</script>
</body>
</html>
